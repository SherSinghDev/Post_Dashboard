<!DOCTYPE html>
<html lang="en">
    
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Registration Form</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Google Font -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.23.0/sweetalert2.min.css">
    
    <style>
        body {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            font-family: "Poppins", sans-serif;
            min-height: 100vh;
        }

        .form-card {
            background: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            padding: 40px 50px;
            max-width: 900px;
            margin: auto;
            transition: transform 0.3s ease;
        }

        /* .form-card:hover {
            transform: translateY(-5px);
        } */

        h2 {
            font-weight: 600;
            color: #1976d2;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        label.form-label {
            font-weight: 500;
            color: #0d47a1;
            font-size: 0.95rem;
        }

        input.form-control,
        select.form-select {
            border-radius: 10px;
            border: 1px solid #90caf9;
            transition: all 0.2s ease-in-out;
        }

        input.form-control:focus,
        select.form-select:focus {
            border-color: #1976d2;
            box-shadow: 0 0 0 0.2rem rgba(25, 118, 210, 0.2);
        }

        .form-check-label {
            color: #1565c0;
        }

        .btn-success {
            background-color: #2e7d32;
            border: none;
            border-radius: 10px;
            transition: all 0.3s ease-in-out;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .btn-success:hover {
            background-color: #1b5e20;
            transform: scale(1.05);
        }

        .form-section-title {
            font-weight: 600;
            color: #0d47a1;
            border-left: 5px solid #1976d2;
            padding-left: 10px;
            margin-bottom: 20px;
        }

        .health-project-banner {
            animation: fadeIn 1.2s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>

</head>

<body>



    <div class="container py-5">
        <div class="form-card">
            <div class="text-center mb-4">
                <img src="/images/card/seva.png" alt="" class="w-100">
            </div>
            <div
                class="health-project-banner p-6 mb-6 rounded-2xl shadow-md bg-gradient-to-r from-green-100 via-emerald-50 to-green-100 border border-green-300">
                <h2 class="text-2xl font-bold text-green-800 text-center mb-3">üåø BSRF FREE HEALTH PROJECT üåø</h2>
                <ul class="list-disc pl-6 text-gray-800 text-lg leading-relaxed">
                    <li>üîé <strong>‡§®‡§ø:‡§∂‡•Å‡§≤‡•ç‡§ï ‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£</strong></li>
                    <li>üîé <strong>‡§®‡§ø:‡§∂‡•Å‡§≤‡•ç‡§ï ‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂</strong></li>
                    <li>üîé <strong>‡§®‡§ø:‡§∂‡•Å‡§≤‡•ç‡§ï ‡§Ü‡§Ø‡•Å‡§∞‡•ç‡§µ‡•á‡§¶‡§ø‡§ï ‡§î‡§∑‡§ß‡§ø‡§Ø‡§æ</strong></li>
                    <li>üîé <strong>‡§∞‡•ã‡§ó ‡§†‡•Ä‡§ï ‡§π‡•ã‡§®‡•á ‡§§‡§ï ‡§®‡§ø:‡§∂‡•Å‡§≤‡•ç‡§ï ‡§á‡§≤‡§æ‡§ú</strong></li>
                    <li>üîé <strong>‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§´‡•ç‡§∞‡•Ä ‡§§‡•Ä‡§® ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§Ø‡•Å‡§∞‡•ç‡§µ‡•á‡§¶‡§ø‡§ï ‡§î‡§∑‡§ß‡§ø‡§Ø‡§æ</strong></li>
                    <li>üîé <strong>‡§ò‡§∞ ‡§™‡§π‡•Å‡§Ç‡§ö‡§®‡•á ‡§™‡§∞ ‡§Æ‡§æ‡§§‡•ç‡§∞ ‚Çπ298 ‡§π‡•à‡§Ç‡§°‡§≤‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§ï‡•ã‡§∞‡§ø‡§Ø‡§∞ ‡§ö‡§æ‡§∞‡•ç‡§ú‡•á‡§∏</strong></li>
                    <li>üîé <strong>‡§°‡•á‡§≤‡•Ä ‡§®‡•Ä‡§°‡•ç‡§∏ ‡§ï‡•á ‡§ò‡§∞‡•á‡§≤‡•Ç ‡§Ü‡§Ø‡•Å‡§∞‡•ç‡§µ‡•á‡§¶‡§ø‡§ï ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü ‡§≠‡•Ä ‡§´‡•ç‡§∞‡•Ä</strong></li>
                </ul>
            </div>
            <h2 class="mt-5">ü©∫ Patient Registration Form</h2>
            <form action="/submit-patient-form" method="POST" id="patient-form" enctype="multipart/form-data">

                <!-- Basic Info -->
                <div class="form-section-title">Personal Information</div>
                <div class="row mb-3">
                    <div class="col-lg-6">
                        <label class="form-label">‡§Æ‡§∞‡•Ä‡§ú ‡§ï‡§æ ‡§®‡§æ‡§Æ / Patient's Name *</label>
                        <input type="text" name="patientName" class="form-control" required />
                    </div>
                    <div class="col-lg-6">
                        <label class="form-label">‡§™‡§ø‡§§‡§æ/‡§™‡§§‡§ø ‡§ï‡§æ ‡§®‡§æ‡§Æ / Father's or Husband's Name *</label>
                        <input type="text" name="fatherOrHusbandName" class="form-control" required />
                    </div>
                </div>

                <div class="mb-3">
                    <label class="form-label">‡§≤‡§ø‡§Ç‡§ó / Gender *</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" value="Male" required />
                            <label class="form-check-label">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" value="Female" />
                            <label class="form-check-label">Female</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" value="Other" />
                            <label class="form-check-label">Other</label>
                        </div>
                    </div>
                </div>

                <!-- Address Section -->
                <div class="form-section-title mt-4">Address Details</div>
                <div class="row mb-3">
                    <div class="col-lg-6">
                        <label class="form-label">‡§Æ‡§ï‡§æ‡§® / ‡§∏‡§°‡§º‡§ï / House / Flat / Street *</label>
                        <input type="text" name="houseOrStreet" class="form-control" required />
                    </div>
                    <div class="col-lg-6">
                        <label class="form-label">‡§á‡§≤‡§æ‡§ï‡§æ / ‡§ó‡§æ‡§Å‡§µ / ‡§Æ‡•ã‡§π‡§≤‡•ç‡§≤‡§æ / Locality *</label>
                        <input type="text" name="locality" class="form-control" required />
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-lg-6">
                        <label class="form-label">‡§∂‡§π‡§∞ / ‡§§‡§π‡§∏‡•Ä‡§≤ / ‡§ú‡§ø‡§≤‡§æ / City / District *</label>
                        <input type="text" name="cityOrDistrict" class="form-control" required />
                    </div>
                    <div class="col-lg-6">
                        <label class="form-label">‡§∞‡§æ‡§ú‡•ç‡§Ø / State *</label>
                        <input type="text" name="state" class="form-control" required />
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-lg-6">
                        <label class="form-label">LANDMARK / ‡§®‡§ú‡§º‡§¶‡•Ä‡§ï‡•Ä ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§∏‡•ç‡§•‡§æ‡§® *</label>
                        <input type="text" name="landmark" class="form-control" required />
                    </div>
                    <div class="col-lg-6">
                        <label class="form-label">‡§™‡§ø‡§® ‡§ï‡•ã‡§° / Pin Code *</label>
                        <input type="text" name="pinCode" class="form-control" required />
                    </div>
                </div>

                <!-- Contact Section -->
                <div class="form-section-title mt-4">Contact Details</div>
                <div class="row mb-3">
                    <div class="col-lg-6">
                        <label class="form-label">‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ / Mobile Number *</label>
                        <input type="text" name="mobileNumber" class="form-control" required />
                    </div>
                    <div class="col-lg-6">
                        <label class="form-label">Emergency Contact Number</label>
                        <input type="text" name="emergencyContact" class="form-control" />
                    </div>
                </div>

                <!-- Medical Info -->
                <div class="form-section-title mt-4">Medical Details</div>
                <div class="mb-3">
                    <label class="form-label">‡§¨‡•Ä‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡§æ ‡§≤‡§ï‡•ç‡§∑‡§£ / Name of Disease *</label>
                    <input type="text" name="diseaseName" class="form-control" required />
                </div>
                <div class="mb-3">
                    <label class="form-label">Report *</label>
                    <input type="file" name="medicalReport" class="form-control" required />
                </div>

                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-success px-5 py-2">Submit</button>
                </div>
            </form>
        </div>
    </div>




    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.23.0/sweetalert2.min.js"></script>
    <script>
        $(document).on('submit', '#patient-form', function (e) {
            e.preventDefault()
            let form = this


            let {
                patientName,
                fatherOrHusbandName,
                gender,
                houseOrStreet,
                locality,
                cityOrDistrict,
                state,
                landmark,
                pinCode,
                mobileNumber,
                emergencyContact,
                diseaseName,
                medicalReport,
            } = form

            let inputs = {
                patientName,
                fatherOrHusbandName,
                gender,
                houseOrStreet,
                locality,
                cityOrDistrict,
                state,
                landmark,
                pinCode,
                mobileNumber,
                emergencyContact,
                diseaseName,
                medicalReport,
            }


            let err = []

            for (let key in inputs) {
                if (!inputs[key].value) {
                    let text = inputs[key].previousElementSibling?.innerText
                    err.push(text)
                }
            }

            if (err.length > 0) {
                Swal.fire({
                    icon: "error",
                    title: "Oops...",
                    html: err.join('<br>'),
                });
            }
            else {
                fetch('/patientform/form', {
                    method: "POST",
                    body: new FormData(e.target),
                })
                    .then((data) => {
                        return data.json()
                    })
                    .then((result) => {
                        // console.log(result);
                        if (result.created) {
                            Swal.fire({
                                title: "Success!",
                                icon: "success",
                                text: result.message,
                                timer: 2000

                            });
                            e.target.reset()
                        }
                        else {
                            Swal.fire({
                                icon: "error",
                                title: "Oops...",
                                text: result.message,
                                timer: 1000
                            });
                        }
                    })
                    .catch((err) => {
                        console.log(err);
                    })
            }
        })
    </script>
</body>

</html>